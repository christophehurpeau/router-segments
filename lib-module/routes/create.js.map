{"version":3,"sources":["../../src/routes/create.js"],"names":["createRoutePath","createRoutePathSegment","Route","LocalizedRoute","SegmentRoute","LocalizedSegmentRoute","createLocalizedPaths","pathDictionary","completePathDictionary","segment","localizedPaths","Map","Object","keys","forEach","locale","path","routerPath","set","checkRef","ref","Error","createRoute","completePath","routePath","createLocalizedRoute","createSegmentRoute","createLocalizedSegmentRoute"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,sBAA1B,QAAwD,mBAAxD;;AAQA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;;AAEA,IAAMC,uBAAuB,SAAvBA,oBAAuB,CAC3BC,cAD2B,EAE3BC,sBAF2B,EAG3BC,OAH2B,EAIxB;AACH,MAAMC,iBAAiB,IAAIC,GAAJ,EAAvB;AACAC,SAAOC,IAAP,CAAYN,cAAZ,EAA4BO,OAA5B,CAAoC,UAACC,MAAD,EAAwB;AAC1D,QAAMC,OAAOT,eAAeQ,MAAf,CAAb;AACA,QAAIN,OAAJ,EAAa;AACX,UAAMQ,aAAmChB,uBACvCe,IADuC,EAEvCR,uBAAuBO,MAAvB,CAFuC,CAAzC;AAIAL,qBAAeQ,GAAf,CAAmBH,MAAnB,EAA2BE,UAA3B;AACD,KAND,MAMO;AACL,UAAMA,cAA4BjB,gBAAgBgB,IAAhB,EAAsBR,uBAAuBO,MAAvB,CAAtB,CAAlC;AACAL,qBAAeQ,GAAf,CAAmBH,MAAnB,EAA2BE,WAA3B;AACD;AACF,GAZD;AAaA,SAAOP,cAAP;AACD,CApBD;;AAsBA,IAAMS,WAAW,SAAXA,QAAW,CAACC,GAAD,EAAc;AAC7B,MAAI,CAACA,GAAL,EAAU,MAAM,IAAIC,KAAJ,oBAA2BD,GAA3B,OAAN;AACX,CAFD;;AAIA,OAAO,IAAME,cAAc,SAAdA,WAAc,CAACN,IAAD,EAAeO,YAAf,EAAqCH,GAArC,EAAkE;AAG3F,MAAMI,YAA2BxB,gBAAgBgB,IAAhB,EAAsBO,YAAtB,CAAjC;AACA,SAAO,IAAIrB,KAAJ,CAAUsB,SAAV,EAAqBJ,GAArB,CAAP;AACD,CALM;;AAOP,OAAO,IAAMK,uBAAuB,SAAvBA,oBAAuB,CAClClB,cADkC,EAElCC,sBAFkC,EAGlCY,GAHkC,EAIf;AAGnB,MAAMV,iBAAiBJ,qBAAqBC,cAArB,EAAqCC,sBAArC,EAA6D,KAA7D,CAAvB;AACA,SAAO,IAAIL,cAAJ,CAAmBO,cAAnB,EAAmCU,GAAnC,CAAP;AACD,CATM;;AAWP,OAAO,IAAMM,qBAAqB,SAArBA,kBAAqB,CAACV,IAAD,EAAeO,YAAf,EAAsD;AACtF,MAAMC,YAAYvB,uBAAuBe,IAAvB,EAA6BO,YAA7B,CAAlB;AACA,SAAO,IAAInB,YAAJ,CAAiBoB,SAAjB,CAAP;AACD,CAHM;;AAKP,OAAO,IAAMG,8BAA8B,SAA9BA,2BAA8B,CACzCpB,cADyC,EAEzCC,sBAFyC,EAGf;AAC1B,MAAME,iBAAiBJ,qBAAqBC,cAArB,EAAqCC,sBAArC,EAA6D,IAA7D,CAAvB;AACA,SAAO,IAAIH,qBAAJ,CAA0BK,cAA1B,CAAP;AACD,CANM","file":"create.js","sourcesContent":["import { createRoutePath, createRoutePathSegment } from './createRoutePath';\nimport type {\n  LocaleType,\n  PathDictionaryType,\n  RoutePathType,\n  SegmentRoutePathType,\n  RouteRefType,\n} from '../types';\nimport Route from './EndRoute';\nimport LocalizedRoute from './LocalizedEndRoute';\nimport SegmentRoute from './SegmentRoute';\nimport LocalizedSegmentRoute from './LocalizedSegmentRoute';\n\nconst createLocalizedPaths = (\n  pathDictionary: PathDictionaryType,\n  completePathDictionary: PathDictionaryType,\n  segment: boolean,\n) => {\n  const localizedPaths = new Map();\n  Object.keys(pathDictionary).forEach((locale: LocaleType) => {\n    const path = pathDictionary[locale];\n    if (segment) {\n      const routerPath: SegmentRoutePathType = createRoutePathSegment(\n        path,\n        completePathDictionary[locale],\n      );\n      localizedPaths.set(locale, routerPath);\n    } else {\n      const routerPath: RoutePathType = createRoutePath(path, completePathDictionary[locale]);\n      localizedPaths.set(locale, routerPath);\n    }\n  });\n  return localizedPaths;\n};\n\nconst checkRef = (ref: any) => {\n  if (!ref) throw new Error(`Invalid ref: \"${ref}\"`);\n};\n\nexport const createRoute = (path: string, completePath: string, ref: RouteRefType): Route => {\n  /* istanbul ignore else */\n  if (!PRODUCTION) checkRef(ref);\n  const routePath: RoutePathType = createRoutePath(path, completePath);\n  return new Route(routePath, ref);\n};\n\nexport const createLocalizedRoute = (\n  pathDictionary: PathDictionaryType,\n  completePathDictionary: PathDictionaryType,\n  ref: RouteRefType,\n): LocalizedRoute => {\n  /* istanbul ignore else */\n  if (!PRODUCTION) checkRef(ref);\n  const localizedPaths = createLocalizedPaths(pathDictionary, completePathDictionary, false);\n  return new LocalizedRoute(localizedPaths, ref);\n};\n\nexport const createSegmentRoute = (path: string, completePath: string): SegmentRoute => {\n  const routePath = createRoutePathSegment(path, completePath);\n  return new SegmentRoute(routePath);\n};\n\nexport const createLocalizedSegmentRoute = (\n  pathDictionary: PathDictionaryType,\n  completePathDictionary: PathDictionaryType,\n): LocalizedSegmentRoute => {\n  const localizedPaths = createLocalizedPaths(pathDictionary, completePathDictionary, true);\n  return new LocalizedSegmentRoute(localizedPaths);\n};\n"]}