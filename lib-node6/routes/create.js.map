{"version":3,"sources":["../../src/routes/create.js"],"names":["createLocalizedPaths","pathDictionary","completePathDictionary","segment","localizedPaths","Map","Object","keys","forEach","locale","path","routerPath","set","checkRef","ref","Error","createRoute","completePath","routePath","createLocalizedRoute","createSegmentRoute","createLocalizedSegmentRoute"],"mappings":";;;;;;;AAAA;;AAQA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,uBAAuB,CAC3BC,cAD2B,EAE3BC,sBAF2B,EAG3BC,OAH2B,KAIxB;AACH,QAAMC,iBAAiB,IAAIC,GAAJ,EAAvB;AACAC,SAAOC,IAAP,CAAYN,cAAZ,EAA4BO,OAA5B,CAAqCC,MAAD,IAAwB;AAC1D,UAAMC,OAAOT,eAAeQ,MAAf,CAAb;AACA,QAAIN,OAAJ,EAAa;AACX,YAAMQ,aAAmC,6CACvCD,IADuC,EAEvCR,uBAAuBO,MAAvB,CAFuC,CAAzC;AAIAL,qBAAeQ,GAAf,CAAmBH,MAAnB,EAA2BE,UAA3B;AACD,KAND,MAMO;AACL,YAAMA,aAA4B,sCAAgBD,IAAhB,EAAsBR,uBAAuBO,MAAvB,CAAtB,CAAlC;AACAL,qBAAeQ,GAAf,CAAmBH,MAAnB,EAA2BE,UAA3B;AACD;AACF,GAZD;AAaA,SAAOP,cAAP;AACD,CApBD;;AAsBA,MAAMS,WAAYC,GAAD,IAAc;AAC7B,MAAI,CAACA,GAAL,EAAU,MAAM,IAAIC,KAAJ,CAAW,iBAAgBD,GAAI,GAA/B,CAAN;AACX,CAFD;;AAIO,MAAME,oCAAc,CAACN,IAAD,EAAeO,YAAf,EAAqCH,GAArC,KAAkE;AAG3F,QAAMI,YAA2B,sCAAgBR,IAAhB,EAAsBO,YAAtB,CAAjC;AACA,SAAO,uBAAUC,SAAV,EAAqBJ,GAArB,CAAP;AACD,CALM;;AAOA,MAAMK,sDAAuB,CAClClB,cADkC,EAElCC,sBAFkC,EAGlCY,GAHkC,KAIf;AAGnB,QAAMV,iBAAiBJ,qBAAqBC,cAArB,EAAqCC,sBAArC,EAA6D,KAA7D,CAAvB;AACA,SAAO,gCAAmBE,cAAnB,EAAmCU,GAAnC,CAAP;AACD,CATM;;AAWA,MAAMM,kDAAqB,CAACV,IAAD,EAAeO,YAAf,KAAsD;AACtF,QAAMC,YAAY,6CAAuBR,IAAvB,EAA6BO,YAA7B,CAAlB;AACA,SAAO,2BAAiBC,SAAjB,CAAP;AACD,CAHM;;AAKA,MAAMG,oEAA8B,CACzCpB,cADyC,EAEzCC,sBAFyC,KAGf;AAC1B,QAAME,iBAAiBJ,qBAAqBC,cAArB,EAAqCC,sBAArC,EAA6D,IAA7D,CAAvB;AACA,SAAO,oCAA0BE,cAA1B,CAAP;AACD,CANM","file":"create.js","sourcesContent":["import { createRoutePath, createRoutePathSegment } from './createRoutePath';\nimport type {\n  LocaleType,\n  PathDictionaryType,\n  RoutePathType,\n  SegmentRoutePathType,\n  RouteRefType,\n} from '../types';\nimport Route from './EndRoute';\nimport LocalizedRoute from './LocalizedEndRoute';\nimport SegmentRoute from './SegmentRoute';\nimport LocalizedSegmentRoute from './LocalizedSegmentRoute';\n\nconst createLocalizedPaths = (\n  pathDictionary: PathDictionaryType,\n  completePathDictionary: PathDictionaryType,\n  segment: boolean,\n) => {\n  const localizedPaths = new Map();\n  Object.keys(pathDictionary).forEach((locale: LocaleType) => {\n    const path = pathDictionary[locale];\n    if (segment) {\n      const routerPath: SegmentRoutePathType = createRoutePathSegment(\n        path,\n        completePathDictionary[locale],\n      );\n      localizedPaths.set(locale, routerPath);\n    } else {\n      const routerPath: RoutePathType = createRoutePath(path, completePathDictionary[locale]);\n      localizedPaths.set(locale, routerPath);\n    }\n  });\n  return localizedPaths;\n};\n\nconst checkRef = (ref: any) => {\n  if (!ref) throw new Error(`Invalid ref: \"${ref}\"`);\n};\n\nexport const createRoute = (path: string, completePath: string, ref: RouteRefType): Route => {\n  /* istanbul ignore else */\n  if (!PRODUCTION) checkRef(ref);\n  const routePath: RoutePathType = createRoutePath(path, completePath);\n  return new Route(routePath, ref);\n};\n\nexport const createLocalizedRoute = (\n  pathDictionary: PathDictionaryType,\n  completePathDictionary: PathDictionaryType,\n  ref: RouteRefType,\n): LocalizedRoute => {\n  /* istanbul ignore else */\n  if (!PRODUCTION) checkRef(ref);\n  const localizedPaths = createLocalizedPaths(pathDictionary, completePathDictionary, false);\n  return new LocalizedRoute(localizedPaths, ref);\n};\n\nexport const createSegmentRoute = (path: string, completePath: string): SegmentRoute => {\n  const routePath = createRoutePathSegment(path, completePath);\n  return new SegmentRoute(routePath);\n};\n\nexport const createLocalizedSegmentRoute = (\n  pathDictionary: PathDictionaryType,\n  completePathDictionary: PathDictionaryType,\n): LocalizedSegmentRoute => {\n  const localizedPaths = createLocalizedPaths(pathDictionary, completePathDictionary, true);\n  return new LocalizedSegmentRoute(localizedPaths);\n};\n"]}